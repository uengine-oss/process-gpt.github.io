import{T as h,a as p}from"./TodoTaskColumn-e3bbfdfb.js";import{_ as T,I as D,o as n,x as r,w as e,a as c,z as _,R as C,b as d,S as E,F as I,c as N,M as w,ae as O,L as P,aj as y,ak as L,al as V,d as S,s as u}from"./index-dcd728bc.js";import"./index-18289fd3.js";const f=D.createBackend(),v={components:{TodoTaskColumn:h,TodoDialog:p},data:()=>({mode:window.$mode,todolist:[{id:"TODO",title:"todoList.todo",cardbg:"background",tasks:[]},{id:"IN_PROGRESS",title:"todoList.inProgress",cardbg:"lightsecondary",tasks:[]},{id:"PENDING",title:"todoList.pending",cardbg:"lightinfo",tasks:[]},{id:"DONE",title:"todoList.done",cardbg:"lightsuccess",tasks:[]}],dialog:!1,loading:!1,offset:10,currentPage:0}),mounted(){this.mode=window.$mode},created(){this.loadToDo(),this.loadCompletedWorkList()},methods:{executeTask(o){var s=this;s.$router.push(`/todolist/${o.taskId}`)},loadToDo(){var o=this;o.$try({context:o,action:async()=>{let s=await f.getWorkList();s||(s=[]),s.forEach(function(t){t.status=="TODO"||t.status=="NEW"||t.status=="DRAFT"?o.todolist.find(a=>a.id=="TODO").tasks.push(t):t.status=="IN_PROGRESS"?o.todolist.find(a=>a.id=="IN_PROGRESS").tasks.push(t):t.status=="PENDING"&&o.todolist.find(a=>a.id=="PENDING").tasks.push(t)})}})},loadCompletedWorkList(){var o=this;o.$try({context:o,action:async()=>{let s=await f.getCompletedList({page:o.currentPage,size:o.offset});s||(s=[]),s.forEach(function(t){(t.status=="DONE"||t.status=="COMPLETED")&&o.todolist.find(a=>a.id=="DONE").tasks.push(t)})}})},handleScrollBottom(){var o=this;o.$try({context:o,action:async()=>{o.loading=!0,o.currentPage++,await o.loadCompletedWorkList(),o.loading=!1}})},loadWorkItemByInstId(o){this.todolist.find(a=>a.id==="TODO").tasks.map(a=>a.instId).length!=0},openDialog(){this.dialog=!0},closeDialog(){this.dialog=!1}}},B={class:"pa-5"},b={class:"d-flex align-center justify-space-between ml-3"},x={class:"text-h5 font-weight-semibold"},R=S("할 일 등록");function $(o,s,t,a,G,l){const g=u("PlusIcon"),m=u("TodoTaskColumn"),k=u("TodoDialog");return n(),r(V,{elevation:"10"},{default:e(()=>[c("div",B,[c("div",b,[c("h5",x,_(o.$t("todoList.title")),1),o.mode==="ProcessGPT"?(n(),r(C,{key:0,size:"24",elevation:"10",class:"bg-surface d-flex align-center cursor-pointer",onClick:l.openDialog},{default:e(()=>[d(E,{activator:"parent",location:"left"},{default:e(()=>[R]),_:1}),d(g,{size:"24","stroke-width":"2"})]),_:1},8,["onClick"])):I("",!0)]),d(y,{class:"ma-0 pa-0"},{default:e(()=>[(n(!0),N(P,null,w(o.todolist,i=>(n(),r(O,{key:i.id,cols:"12",md:"3",sm:"6"},{default:e(()=>[d(m,{column:i,loading:o.loading,onExecuteTask:l.executeTask,onScrollBottom:l.handleScrollBottom},null,8,["column","loading","onExecuteTask","onScrollBottom"])]),_:2},1024))),128))]),_:1})]),d(L,{modelValue:o.dialog,"onUpdate:modelValue":s[0]||(s[0]=i=>o.dialog=i),"max-width":"500"},{default:e(()=>[d(k,{todolist:o.todolist,onClose:l.closeDialog},null,8,["todolist","onClose"])]),_:1},8,["modelValue"])]),_:1})}const j=T(v,[["render",$]]);export{j as default};
